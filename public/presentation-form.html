<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø·Ù„Ø¨ Ø¹Ø±Ø¶ ØªÙ‚Ø¯ÙŠÙ…ÙŠ - Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠØ©</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="logo">ğŸ“ Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠØ©</div>
            <ul class="nav-links">
                <li><a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                <li><a href="my-orders.html">Ø·Ù„Ø¨Ø§ØªÙŠ</a></li>
                <li><a href="admin-panel.html">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a></li>
            </ul>
        </nav>
    </header>

    <main class="container">
        <div class="form-container fade-in">
            <h2>ğŸ“Š Ø·Ù„Ø¨ Ø¹Ø±Ø¶ ØªÙ‚Ø¯ÙŠÙ…ÙŠ (Presentation)</h2>
            <p class="text-secondary mb-lg">Ø§Ù…Ù„Ø£ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ§Ù„ÙŠØ© ÙˆØ³Ù†ØµÙ…Ù… Ù„Ùƒ Ø¹Ø±Ø¶Ø§Ù‹ Ø§Ø­ØªØ±Ø§ÙÙŠØ§Ù‹</p>

            <form id="presentationForm">
                <div class="form-group">
                    <label for="customerName">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ *</label>
                    <input type="text" id="customerName" name="customerName" required>
                </div>

                <div class="form-group">
                    <label for="customerEmail">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ *</label>
                    <input type="email" id="customerEmail" name="customerEmail" required>
                </div>

                <div class="form-group">
                    <label for="topic">Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ *</label>
                    <input type="text" id="topic" name="topic" placeholder="Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…ÙŠ" required>
                </div>

                <div class="form-group">
                    <label for="title">Ø§Ù„Ø¹Ù†ÙˆØ§Ù† *</label>
                    <input type="text" id="title" name="title" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¹Ø±Ø¶" required>
                </div>

                <div class="form-group">
                    <label for="style">Ù†Ù…Ø· Ø§Ù„ØªØµÙ…ÙŠÙ… *</label>
                    <select id="style" name="style" required>
                        <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù†Ù…Ø·</option>
                        <option value="Ø§Ø­ØªØ±Ø§ÙÙŠ">Ø§Ø­ØªØ±Ø§ÙÙŠ (Professional)</option>
                        <option value="Ø¥Ø¨Ø¯Ø§Ø¹ÙŠ">Ø¥Ø¨Ø¯Ø§Ø¹ÙŠ (Creative)</option>
                        <option value="Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ">Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ (Academic)</option>
                        <option value="Ø¨Ø³ÙŠØ·">Ø¨Ø³ÙŠØ· (Minimal)</option>
                        <option value="Ø¹ØµØ±ÙŠ">Ø¹ØµØ±ÙŠ (Modern)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="slides">Ø¹Ø¯Ø¯ Ø§Ù„Ø´Ø±Ø§Ø¦Ø­ *</label>
                    <input type="number" id="slides" name="slides" min="5" max="100" placeholder="Ù…Ø«Ø§Ù„: 20" required>
                </div>

                <div class="form-group">
                    <label for="speakerNotes">Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ù…ØªØ­Ø¯Ø« *</label>
                    <select id="speakerNotes" name="speakerNotes" required>
                        <option value="">Ø§Ø®ØªØ±</option>
                        <option value="Ù†Ø¹Ù…">Ù†Ø¹Ù…ØŒ Ø£Ø±ÙŠØ¯ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù„Ù„Ù…ØªØ­Ø¯Ø«</option>
                        <option value="Ù„Ø§">Ù„Ø§ØŒ Ø§Ù„Ø´Ø±Ø§Ø¦Ø­ ÙÙ‚Ø·</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="deadline">Ø§Ù„Ù…ÙˆØ¹Ø¯ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ *</label>
                    <input type="date" id="deadline" name="deadline" required>
                </div>

                <div class="form-group">
                    <label for="requirements">Ù…ØªØ·Ù„Ø¨Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©</label>
                    <textarea id="requirements" name="requirements" placeholder="Ø£ÙŠ Ù…ØªØ·Ù„Ø¨Ø§Øª Ø®Ø§ØµØ© Ø¨Ø§Ù„ØªØµÙ…ÙŠÙ… Ø£Ùˆ Ø§Ù„Ù…Ø­ØªÙˆÙ‰..."></textarea>
                </div>

                <div class="form-actions">
                    <a href="index.html" class="btn btn-secondary">Ø¥Ù„ØºØ§Ø¡</a>
                    <button type="submit" class="btn btn-primary">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
                </div>
            </form>
        </div>
    </main>

    <script src="app.js"></script>
    <script>
        document.getElementById('presentationForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const formData = {
                service_type: 'presentation',
                customer_name: document.getElementById('customerName').value,
                customer_email: document.getElementById('customerEmail').value,
                details: {
                    topic: document.getElementById('topic').value,
                    title: document.getElementById('title').value,
                    style: document.getElementById('style').value,
                    slides: document.getElementById('slides').value,
                    speakerNotes: document.getElementById('speakerNotes').value,
                    deadline: document.getElementById('deadline').value,
                    requirements: document.getElementById('requirements').value
                }
            };

            try {
                const response = await fetch(API_BASE + '/api/orders', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(formData)
                });

                const result = await response.json();
                
                if (result.success) {
                    alert('âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­! Ø³Ù†Ø¨Ø¯Ø£ Ø§Ù„Ø¹Ù…Ù„ Ø¹Ù„ÙŠÙ‡ ÙÙˆØ±Ø§Ù‹');
                    window.location.href = 'my-orders.html?email=' + formData.customer_email;
                } else {
                    alert('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£: ' + result.error);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…');
            }
        });

        document.getElementById('deadline').min = new Date().toISOString().split('T')[0];
    </script>
</body>
</html>
