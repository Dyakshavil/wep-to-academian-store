<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø·Ù„Ø¨ Ù…Ø´Ø±ÙˆØ¹ Ø¨Ø±Ù…Ø¬ÙŠ - Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠØ©</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="logo">ğŸ“ Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠØ©</div>
            <ul class="nav-links">
                <li><a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                <li><a href="my-orders.html">Ø·Ù„Ø¨Ø§ØªÙŠ</a></li>
                <li><a href="admin-panel.html">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a></li>
            </ul>
        </nav>
    </header>

    <main class="container">
        <div class="form-container fade-in">
            <h2>ğŸ’» Ø·Ù„Ø¨ Ù…Ø´Ø±ÙˆØ¹ Ø¨Ø±Ù…Ø¬ÙŠ</h2>
            <p class="text-secondary mb-lg">Ø£Ø®Ø¨Ø±Ù†Ø§ Ø¹Ù† Ù…Ø´Ø±ÙˆØ¹Ùƒ Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠ ÙˆØ³Ù†Ù†ÙØ°Ù‡ Ù„Ùƒ Ø¨Ø£ÙØ¶Ù„ Ø¬ÙˆØ¯Ø©</p>

            <form id="programmingForm">
                <div class="form-group">
                    <label for="customerName">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ *</label>
                    <input type="text" id="customerName" name="customerName" required>
                </div>

                <div class="form-group">
                    <label for="customerEmail">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ *</label>
                    <input type="email" id="customerEmail" name="customerEmail" required>
                </div>

                <div class="form-group">
                    <label for="language">Ù„ØºØ© Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© *</label>
                    <select id="language" name="language" required>
                        <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù„ØºØ©</option>
                        <option value="Python">Python</option>
                        <option value="Java">Java</option>
                        <option value="C++">C++</option>
                        <option value="C#">C#</option>
                        <option value="JavaScript">JavaScript</option>
                        <option value="PHP">PHP</option>
                        <option value="C">C</option>
                        <option value="Ruby">Ruby</option>
                        <option value="Go">Go</option>
                        <option value="Swift">Swift</option>
                        <option value="Kotlin">Kotlin</option>
                        <option value="Ø£Ø®Ø±Ù‰">Ø£Ø®Ø±Ù‰</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="projectType">Ù†ÙˆØ¹ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ *</label>
                    <select id="projectType" name="projectType" required>
                        <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù†ÙˆØ¹</option>
                        <option value="Ù„Ø¹Ø¨Ø©">Ù„Ø¹Ø¨Ø© (Game)</option>
                        <option value="Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ©">Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© (Algorithm)</option>
                        <option value="Ù‡ÙŠØ§ÙƒÙ„ Ø¨ÙŠØ§Ù†Ø§Øª">Ù‡ÙŠØ§ÙƒÙ„ Ø¨ÙŠØ§Ù†Ø§Øª (Data Structures)</option>
                        <option value="ØªØ·Ø¨ÙŠÙ‚ ÙˆÙŠØ¨">ØªØ·Ø¨ÙŠÙ‚ ÙˆÙŠØ¨ (Web App)</option>
                        <option value="ØªØ·Ø¨ÙŠÙ‚ Ø³Ø·Ø­ Ø§Ù„Ù…ÙƒØªØ¨">ØªØ·Ø¨ÙŠÙ‚ Ø³Ø·Ø­ Ø§Ù„Ù…ÙƒØªØ¨ (Desktop App)</option>
                        <option value="Ø¨Ø±Ù†Ø§Ù…Ø¬ ØªØ¹Ù„ÙŠÙ…ÙŠ">Ø¨Ø±Ù†Ø§Ù…Ø¬ ØªØ¹Ù„ÙŠÙ…ÙŠ (Educational)</option>
                        <option value="Ø£ØªÙ…ØªØ©">Ø£ØªÙ…ØªØ© (Automation)</option>
                        <option value="Ø£Ø®Ø±Ù‰">Ø£Ø®Ø±Ù‰</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="description">ÙˆØµÙ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ *</label>
                    <textarea id="description" name="description" placeholder="Ø§Ø´Ø±Ø­ Ø¨Ø§Ù„ØªÙØµÙŠÙ„ Ù…Ø§ ØªØ±ÙŠØ¯ Ø£Ù† ÙŠÙØ¹Ù„Ù‡ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬..." required></textarea>
                </div>

                <div class="form-group">
                    <label for="features">Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© *</label>
                    <textarea id="features" name="features" placeholder="Ø§Ø°ÙƒØ± Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª ÙˆØ§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØªÙŠ ØªØ±ÙŠØ¯Ù‡Ø§ ÙÙŠ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬..." required></textarea>
                </div>

                <div class="form-group">
                    <label for="deadline">Ø§Ù„Ù…ÙˆØ¹Ø¯ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ *</label>
                    <input type="date" id="deadline" name="deadline" required>
                </div>

                <div class="form-group">
                    <label for="additionalNotes">Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©</label>
                    <textarea id="additionalNotes" name="additionalNotes" placeholder="Ø£ÙŠ ØªÙØ§ØµÙŠÙ„ Ø£Ø®Ø±Ù‰ ØªØ±ÙŠØ¯ Ø¥Ø¶Ø§ÙØªÙ‡Ø§..."></textarea>
                </div>

                <div class="form-actions">
                    <a href="index.html" class="btn btn-secondary">Ø¥Ù„ØºØ§Ø¡</a>
                    <button type="submit" class="btn btn-primary">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
                </div>
            </form>
        </div>
    </main>

    <script src="app.js"></script>
    <script>
        document.getElementById('programmingForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const formData = {
                service_type: 'programming',
                customer_name: document.getElementById('customerName').value,
                customer_email: document.getElementById('customerEmail').value,
                details: {
                    language: document.getElementById('language').value,
                    projectType: document.getElementById('projectType').value,
                    description: document.getElementById('description').value,
                    features: document.getElementById('features').value,
                    deadline: document.getElementById('deadline').value,
                    additionalNotes: document.getElementById('additionalNotes').value
                }
            };

            try {
                const response = await fetch(API_BASE + '/api/orders', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(formData)
                });

                const result = await response.json();
                
                if (result.success) {
                    alert('âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­! Ø³Ù†Ø¨Ø¯Ø£ Ø§Ù„Ø¹Ù…Ù„ Ø¹Ù„ÙŠÙ‡ ÙÙˆØ±Ø§Ù‹');
                    window.location.href = 'my-orders.html?email=' + formData.customer_email;
                } else {
                    alert('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£: ' + result.error);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…');
            }
        });

        document.getElementById('deadline').min = new Date().toISOString().split('T')[0];
    </script>
</body>
</html>
